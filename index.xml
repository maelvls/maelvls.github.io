<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>maelvls dev blog</title><link>https://maelvls.dev/</link><description>Recent content on maelvls.dev</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Tue, 07 Jul 2020 16:33:55 +0200</lastBuildDate><atom:link href="https://maelvls.dev/index.xml" rel="self" type="application/rss+xml"/><item><title>Understanding the Available condition of a Kubernetes deployment</title><link>https://maelvls.dev/deployment-available-condition/</link><pubDate>Tue, 07 Jul 2020 16:33:55 +0200</pubDate><guid>https://maelvls.dev/deployment-available-condition/</guid><description>
Although the Kubernetes documentation is excellent, the API reference does not document the conditions that can be found in a deployment's status. The Available condition has always eluded me!</description></item><item><title>Pull-through Docker registry on Kind clusters on macOS</title><link>https://maelvls.dev/docker-proxy-registry-kind-macos/</link><pubDate>Fri, 03 Jul 2020 15:13:39 +0200</pubDate><guid>https://maelvls.dev/docker-proxy-registry-kind-macos/</guid><description>
Kind offers an excellent UX to Kubernetes developers but lacks support for caching images; each time you recreate a new cluster, all the previous downloaded images are gone. In this post, I explain why the default Docker network is a trap and how to set up a registry &amp; make sure that it actually works.</description></item><item><title>Using mitmproxy to understand what kubectl does under the hood</title><link>https://maelvls.dev/mitmproxy-kubectl/</link><pubDate>Wed, 01 Jul 2020 19:17:24 +0200</pubDate><guid>https://maelvls.dev/mitmproxy-kubectl/</guid><description>
Mitmproxy is an excellent tool that helps us understand what network calls are made by programs. And kubectl is one of these interesting programs, but it uses a mutual TLS authentication which is tricky to get right.</description></item><item><title>Epic journey with statically and dynamically-linked libraries (.a, .so)</title><link>https://maelvls.dev/static-libraries-and-autoconf-hell/</link><pubDate>Sat, 30 May 2020 20:45:06 +0200</pubDate><guid>https://maelvls.dev/static-libraries-and-autoconf-hell/</guid><description>
Dynamic libraries and PIC (position-independant code) are great features of modern systems. But trying to get the right library built can become a nightmare as soon as you rely on other libraries that may or may not have these features in the first place... In this post, I detail the hacks I made to the ./configure-based build system of Yices, a C++ library.</description></item><item><title>Github Actions with a private Terraform module</title><link>https://maelvls.dev/gh-actions-with-tf-private-repo/</link><pubDate>Sat, 09 May 2020 16:02:26 +0200</pubDate><guid>https://maelvls.dev/gh-actions-with-tf-private-repo/</guid><description>
Terraform makes it easy to manage infrastructure at scale; you
might want to share code between modules, and that's where it becomes tricky.
In this post, I try to give some clues on how to use terraform across private
Github repos.</description></item><item><title>Learning Kubernetes Controllers</title><link>https://maelvls.dev/learning-kubernetes-controllers/</link><pubDate>Wed, 22 Apr 2020 11:58:26 +0200</pubDate><guid>https://maelvls.dev/learning-kubernetes-controllers/</guid><description>
Kubernetes' extensibility is probably its biggest strength. Controllers and
CRDs are all over the place. But finding the right information to begin
writing a controller isn't easy due to the sheer amount of tribal knowledge
scattered everywhere. Here are some links to help you start.</description></item><item><title>How do packets find their way back?</title><link>https://maelvls.dev/how-do-packets-come-back/</link><pubDate>Mon, 13 Apr 2020 00:00:00 +0000</pubDate><guid>https://maelvls.dev/how-do-packets-come-back/</guid><description>
In one of my previous posts, I studied how traffic flows when using
Kubernetes Services. While drawing the last diagram, I did not clearly
see how traffic could make its way back to the user. In this
post, I focus on how packets find their way back and what makes stateless
rewriting interesting.</description></item><item><title>My home office setup in 2020</title><link>https://maelvls.dev/home-office-2020/</link><pubDate>Mon, 30 Mar 2020 00:00:00 +0000</pubDate><guid>https://maelvls.dev/home-office-2020/</guid><description>
Here is what my home office looks like in 2020 and what changed between 2019 and 2020!</description></item><item><title>Migrating from GKE to Civo's K3s</title><link>https://maelvls.dev/from-gke-to-civo-k3s/</link><pubDate>Sun, 22 Mar 2020 00:00:00 +0000</pubDate><guid>https://maelvls.dev/from-gke-to-civo-k3s/</guid><description>
My free trial on GKE was ending in 2 days and I had to find a way to migrate away. I decided to switch to Civo's managed K3s.</description></item><item><title>The Packet's-Eye View of a Kubernetes Service</title><link>https://maelvls.dev/packets-eye-kubernetes-service/</link><pubDate>Sat, 14 Mar 2020 00:00:00 +0000</pubDate><guid>https://maelvls.dev/packets-eye-kubernetes-service/</guid><description>
The Service and Ingress respectively brings L4 and L7 traffics to your
pods. In this article, I focus on how traffic flows in and what are the
interactions between the ingress controller and the "service-lb controller"
(the thing that creates the external load balancer). I also detail how the
`hostPort` approach shapes traffic.</description></item><item><title>You should write comments</title><link>https://maelvls.dev/you-should-write-comments/</link><pubDate>Thu, 27 Feb 2020 00:00:00 +0000</pubDate><guid>https://maelvls.dev/you-should-write-comments/</guid><description>
We often talk about avoiding unecessary comments that needlessly paraphrase
what the code does. In this article, I gathered some thoughts about why
writing comments is as important as writing the code itself.</description></item><item><title>Debugging Kubernetes Networking: my kube-dns is not working!</title><link>https://maelvls.dev/debugging-kubernetes-networking/</link><pubDate>Sun, 26 Jan 2020 00:00:00 +0000</pubDate><guid>https://maelvls.dev/debugging-kubernetes-networking/</guid><description>
Some pods were unable to connect to the kube-proxy pod on one of my GKE
Kubernetes clusters. This post present an in-depth investigation using
tcpdump, wireshark and iptables tracing.</description></item><item><title>Avoid GKE's expensive load balancer by using hostPort</title><link>https://maelvls.dev/avoid-gke-lb-with-hostport/</link><pubDate>Mon, 20 Jan 2020 00:00:00 +0000</pubDate><guid>https://maelvls.dev/avoid-gke-lb-with-hostport/</guid><description>
I want to avoid using the expensive Google Network Load Balancer and
instead do the load balancing in-cluster using akrobateo, which
acts as a LoadBalancer controller.</description></item><item><title>Nice diagram about TLS, certificates and keys</title><link>https://maelvls.dev/notes/tls/</link><pubDate>Mon, 20 Jan 2020 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/tls/</guid><description>
ROLE OF THE CERTIFICATE AUTHORITY +------------------------------+ +-----------------+ CERTIFICATE AUTHORITY (NOT A CERT...</description></item><item><title>What to do when Go ignores HTTP_PROXY for 127.0.0.1</title><link>https://maelvls.dev/go-ignores-proxy-localhost/</link><pubDate>Mon, 06 Jan 2020 00:00:00 +0000</pubDate><guid>https://maelvls.dev/go-ignores-proxy-localhost/</guid><description>
At some point, the Go team chose to disable the proxy for requests coming
from localhost or 127.0.0.1. This is annoying when debugging services
locally.</description></item><item><title>Go Happy Path: the Unindented Line of Sight</title><link>https://maelvls.dev/go-happy-line-of-sight/</link><pubDate>Sat, 23 Nov 2019 00:00:00 +0000</pubDate><guid>https://maelvls.dev/go-happy-line-of-sight/</guid><description>
Readability is a property we all love about Go. In other languages, it
might be fine to have a lot of nested if statements; in Go, it is a good
practice to keep away from overly-nested logic.</description></item><item><title>GO111MODULE is everywhere: history and tips</title><link>https://maelvls.dev/go111module-everywhere/</link><pubDate>Wed, 13 Nov 2019 00:00:00 +0000</pubDate><guid>https://maelvls.dev/go111module-everywhere/</guid><description>
GO111MODULE is all over the place. It appears in README install
instructions, in Dockerfiles, in makefiles. On top of that, the behavior of
GO111MODULE has changed from Go 1.11 to 1.12, changed again with 1.13 and
will changed a last time in 1.14.</description></item><item><title>Use of conditions in Kubernetes controllers</title><link>https://maelvls.dev/kubernetes-conditions/</link><pubDate>Tue, 12 Nov 2019 00:00:00 +0000</pubDate><guid>https://maelvls.dev/kubernetes-conditions/</guid><description>
Although progress is being made, Kubernetes controllers and operators
still require prior knowledge about Kubernetes internals. Information on
how to set the status is scattered across comments, issues, PRs and the
Kubernetes code itself. Conditions may be a good solution for your
controller, but for what?</description></item><item><title>Stuff about Wireshark</title><link>https://maelvls.dev/notes/wireshark/</link><pubDate>Wed, 06 Nov 2019 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/wireshark/</guid><description>
tcpdump -i eth0 -U -w - 'not port 22' | wireshark -k -i - wireshark -i en9 -k -Y "ip.addr == 35.211.248.124 ...</description></item><item><title>How client-server SSH authentication works</title><link>https://maelvls.dev/notes/ssh/</link><pubDate>Tue, 28 May 2019 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/ssh/</guid><description>
Difference between CA and cert Ssh authentication themes Case A: unknown host Case B: host already in known_host but i...</description></item><item><title>Use the Bootcamp partition under VirtualBox</title><link>https://maelvls.dev/notes/bootcamp_vm/</link><pubDate>Sat, 20 Apr 2019 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/bootcamp_vm/</guid><description>
From: https://apple.stackexchange.com/questions/220670/run-boot-camp-windows10-partition-inside-virtualbox
First, find w...</description></item><item><title>Notes on OAuth</title><link>https://maelvls.dev/notes/oauth/</link><pubDate>Sun, 17 Feb 2019 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/oauth/</guid><description>
I know two main ways of using OAuth2
password-based client grant (2-leg oauth flow: on the project I worked on, the OA...</description></item><item><title>Some kubectl stuff</title><link>https://maelvls.dev/notes/kubectl/</link><pubDate>Thu, 03 Jan 2019 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/kubectl/</guid><description>
kubectl run --generator=run-pod/v1 tmp-shell --rm -i --tty --image nicolaka/netshoot -- /bin/bash gcloud ssh ... docker ...</description></item><item><title>Memo for Tmux</title><link>https://maelvls.dev/notes/tmux/</link><pubDate>Sat, 03 Nov 2018 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/tmux/</guid><description>
I installed https://gist.github.com/cybic/6375457 in ~/.bash_completion (file) to get the bash completion.
General short...</description></item><item><title>Checking info about CPU and Nvidia GPU on Linux</title><link>https://maelvls.dev/notes/cpu_gpu/</link><pubDate>Thu, 01 Nov 2018 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/cpu_gpu/</guid><description>
If there is a Nvidia card:
nvidia-smi Otherwise:
cat /proc/cpuinfo lscpu</description></item><item><title>Using dd</title><link>https://maelvls.dev/notes/dd/</link><pubDate>Mon, 08 Oct 2018 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/dd/</guid><description>
sudo dd if=$HOME/Downloads/elementaryos-0.4.1-stable.20170814.iso of=/dev/disk3s1 status=progress df -h diskutil unmount...</description></item><item><title>Remote Docker using docker-machine</title><link>https://maelvls.dev/notes/docker/</link><pubDate>Thu, 13 Sep 2018 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/docker/</guid><description>
Use docker-machine for remoting docker docker-machine create --driver generic --generic-ip-address=141.115.74.15 --gener...</description></item><item><title>Run the test suite of the Gitlab projet</title><link>https://maelvls.dev/notes/gitlab/</link><pubDate>Mon, 09 Jul 2018 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/gitlab/</guid><description>
From https://docs.gitlab.com/runner/install/linux-manually.html
sudo wget -O /usr/local/bin/gitlab-runner https://gitlab...</description></item><item><title>Using mutt and msmtp with Gmail</title><link>https://maelvls.dev/notes/msmtp_mutt/</link><pubDate>Sat, 30 Jun 2018 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/msmtp_mutt/</guid><description>
On macOS, install msmtp:
brew install mutt msmtp I read this thread: https://www.engadget.com/2010/05/04/msmtp-a-free-t...</description></item><item><title>Everything I know about TCP</title><link>https://maelvls.dev/notes/tcp_ports/</link><pubDate>Mon, 19 Feb 2018 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/tcp_ports/</guid><description>
How is a TCP connection uniquely identified Kill a process that is using a TCP port you need:
lsof -n -i :8001 # copy PI...</description></item><item><title>git stash vs. git reset --hard</title><link>https://maelvls.dev/notes/git/</link><pubDate>Wed, 20 Dec 2017 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/git/</guid><description>
Many times, I used git reset --hard and found out later that all my changes had disappeared. I think this is because I d...</description></item><item><title>Some stuff about gpg</title><link>https://maelvls.dev/notes/pgp/</link><pubDate>Wed, 08 Nov 2017 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/pgp/</guid><description>
Sign my message Things on securiry Public-key protocol is slow Errors I got To list the keys I have in my keyring, use...</description></item><item><title>Epson scanner, large PDFs and ImageMagick (convert CLI)</title><link>https://maelvls.dev/notes/pdf/</link><pubDate>Tue, 12 Sep 2017 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/pdf/</guid><description>
The Epson iPrint soft is producing PDFs in 300dpi but the 300 information does not seem to be stored in the PDF metadata...</description></item><item><title>Avoid typing the SSH passphrase on Ubuntu using ssh-agent</title><link>https://maelvls.dev/notes/ssh-agent/</link><pubDate>Thu, 01 Jun 2017 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/ssh-agent/</guid><description>
Here: https://unix.stackexchange.com/questions/12195/how-to-avoid-being-asked-passphrase-each-time-i-push-to-bitbucket
T...</description></item><item><title>Managing Basic Texlive instead of Full Texlive/Mactex</title><link>https://maelvls.dev/notes/latex_packages/</link><pubDate>Thu, 25 May 2017 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/latex_packages/</guid><description>
tlmgr install texliveonfly texliveonfly main.tex will install automatically all packages called using \usepackage{}
To f...</description></item><item><title>Using Matlab at IRIT</title><link>https://maelvls.dev/notes/matlab/</link><pubDate>Mon, 20 Mar 2017 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/matlab/</guid><description>
Token server at IRIT:
matlab -nodecktop -nodisplay -c 27000@licence.irit.fr or
SERVER licence.irit.fr 0050568A1251 2700...</description></item><item><title>Stuff about managing Ruby &amp; rvm</title><link>https://maelvls.dev/notes/ruby/</link><pubDate>Sun, 05 Feb 2017 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/ruby/</guid><description>
Warning ‘Ignoring… because its extensions are not built’ The message is:
Ignoring atomic-1.1.101 beca...</description></item><item><title>Get lighter PDFs</title><link>https://maelvls.dev/notes/lighter_pdfs/</link><pubDate>Mon, 30 Jan 2017 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/lighter_pdfs/</guid><description>
convert -resample 72x72 -compress JPEG -quality 20 a.jpg a.pdf convert -resample 72x72 -compress JPEG -quality 20 a.jpg ...</description></item><item><title>Using Linyxbrew on university servers</title><link>https://maelvls.dev/notes/linuxbrew/</link><pubDate>Thu, 15 Dec 2016 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/linuxbrew/</guid><description>
On the university server azteca or inca (must use vpn or sassh through-pass)
export http_proxy=proxy.univ-tlse3.fr:3128 ...</description></item><item><title>Interesting macOS-specific commands</title><link>https://maelvls.dev/notes/mac_commands/</link><pubDate>Thu, 20 Oct 2016 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/mac_commands/</guid><description>
open -a MacDown README.md # open README.md in MacDown mdfind # spotlight pbcopy # copy from stdin to pb pbpaste # paste ...</description></item><item><title>What I know about shells</title><link>https://maelvls.dev/notes/shell/</link><pubDate>Sat, 09 Jul 2016 00:00:00 +0000</pubDate><guid>https://maelvls.dev/notes/shell/</guid><description>
General information Sed Shell, terminal, console, command line .bash_profile vs .bashrc Tty, pty, interactive vs non-in...</description></item><item><title>About</title><link>https://maelvls.dev/about/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://maelvls.dev/about/</guid><description>
I currently work at Ori, a Cloud infrastructure startup that aims at providing a unified experience for deploying to clo...</description></item></channel></rss>